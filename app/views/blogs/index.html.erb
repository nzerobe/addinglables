<div class="container">
<h1 class="my-4">List of Posts</h1>




<%= form_with(model: Blog.new, url: blogs_path, local: true, method: :get) do |form| %>
  <div class="border border-primary rounded p-2">
    <div>
      <%= form.label :title %>
      <%= form.text_field :title %>
    </div>
    <div>
      <%= form.label :status %>
      <%= form.select :status, Blog.statuses.map { |k, v| [t("activerecord.status.#{k}"), v] }
                                  .unshift([t("activerecord.status.none"), -1]) %>
    </div>

   <%= form.submit 'search' %>
  </div>
<% end %>
  


<% @blogs.each do |blog| %>
 <table>
<%= blog.title %></h4>
         
 <p>Title:　<%= blog.title %></p> 
   <p>Content:　<%= blog.content %></p>                    
 <p>Deadline:　<%= blog.deadline %></p>
    <p>Status:　<%= blog.status %></p>
    <p>Priority:　<%= blog.priority %></p>        

   <td><%= link_to 'Details', blog_path(blog.id) %></td>
   
  
    <td><%= link_to link_to "Edit ", edit_blog_path(blog.id) %></td>
    <td><%= link_to link_to 'Delete ', blog_path(blog.id), method: :delete ,data: {confirm: 'Are you sure?'} %></td>
    
  </tr>
<% end %>
 
</table>


  <br>
<% if params[:search] != "true" %>
 <%= link_to "Sort by expiration ", blogs_path(sort_expired: "true")  %>
  <%= link_to "Sort in order of priority", blogs_path(sort_priority: "true") %>
 
<% else %>
 <%= link_to 'Display all blogs', blogs_path %>
<% end %>
<br>
<%= paginate @blogs %>
<%= link_to 'New Post', new_blog_path %>
<%= t('blog.index') %>

</div>